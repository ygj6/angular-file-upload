{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5d0e3e7b142b6d10cdad","webpack:///./src/index.js","webpack:///./src/config.json","webpack:///./src/values/options.js","webpack:///./src/services/FileUploader.js","webpack:///./src/services/FileLikeObject.js","webpack:///./src/services/FileItem.js","webpack:///./src/services/FileDirective.js","webpack:///./src/services/FileSelect.js","webpack:///./src/services/Pipeline.js","webpack:///./src/services/FileDrop.js","webpack:///./src/services/FileOver.js","webpack:///./src/directives/FileSelect.js","webpack:///./src/directives/FileDrop.js","webpack:///./src/directives/FileOver.js"],"names":["angular","module","CONFIG","name","value","options","factory","serviceFileUploader","serviceFileLikeObject","serviceFileItem","serviceFileDirective","serviceFileSelect","serviceFileDrop","serviceFileOver","servicePipeline","directive","directiveFileSelect","directiveFileDrop","directiveFileOver","run","FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver","Pipeline","url","alias","headers","queue","progress","autoUpload","removeAfterUpload","method","filters","formData","queueLimit","Number","MAX_VALUE","withCredentials","disableMultipart","__identity","bind","copy","extend","forEach","isObject","isNumber","isDefined","isArray","isUndefined","element","fileUploaderOptions","$rootScope","$http","$window","$timeout","File","FormData","settings","isUploading","_nextIndex","_directives","select","drop","over","unshift","fn","_queueLimitFilter","_folderFilter","addToQueue","files","incomingQueue","isArrayLikeObject","Array","prototype","slice","call","arrayOfFilters","_getFilters","count","length","addedFileItems","next","something","shift","done","fileLikeObject","isFile","pipes","_convertFiltersToPipes","pipeline","onThrown","err","originalFilter","pipe","args","_onWhenAddingFileFailed","onSuccessful","fileItem","push","_onAfterAddingFile","exec","_onAfterAddingAll","_getTotalProgress","_render","uploadAll","removeFromQueue","index","getIndexOfItem","item","cancel","splice","_destroy","clearQueue","remove","uploadItem","transport","isHTML5","_prepareToUploading","_onBeforeUploadItem","isCancel","cancelItem","prop","abort","dummy","undefined","onNextTick","_onCancelItem","_onCompleteItem","items","getNotUploadedItems","filter","upload","cancelAll","constructor","isFileLikeObject","indexOf","isUploaded","getReadyItems","isReady","sort","item1","item2","destroy","key","object","onAfterAddingAll","fileItems","onAfterAddingFile","onWhenAddingFileFailed","onBeforeUploadItem","onProgressItem","onProgressAll","onSuccessItem","response","status","onErrorItem","onCancelItem","onCompleteItem","onTimeoutItem","onCompleteAll","notUploaded","uploaded","ratio","current","Math","round","names","match","map","isAsync","$$phase","$apply","size","type","_isSuccessCode","_transformResponse","headersGetter","_headersGetter","defaults","transformResponse","transformFn","_parseHeaders","parsed","val","i","split","line","trim","toLowerCase","parsedHeaders","_xhrTransport","xhr","_xhr","XMLHttpRequest","sendable","obj","append","_file","file","TypeError","onprogress","event","lengthComputable","loaded","total","_onProgressItem","onload","getAllResponseHeaders","gist","onerror","_onErrorItem","onabort","ontimeout","e","_onTimeoutItem","open","timeout","setRequestHeader","send","_iframeTransport","form","iframe","Date","now","input","_input","timer","isTimedOut","_form","replaceWith","element_","action","target","enctype","encoding","html","contentDocument","body","innerHTML","clearTimeout","_onSuccessItem","unbind","after","setTimeout","submit","_onBeforeUpload","_onProgress","_onSuccess","_onError","_onCancel","_onComplete","nextItem","_onTimeout","inherit","source","Object","create","super_","$inject","isElement","isString","fileOrInput","isInput","fakePathOrObject","postfix","_createFromFakePath","path","lastModifiedDate","lastIndexOf","_createFromObject","$compile","uploader","some","isSuccess","isError","_replaceNode","message","code","onBeforeUpload","onProgress","onSuccess","onError","onCancel","onComplete","onTimeout","clone","scope","css","_saveLinks","events","extendedOptions","$destroy","change","removeAttr","getOptions","getFilters","isEmptyAfterSelection","attr","onChange","$q","Error","deferred","defer","onFulfilled","onRejected","promise","then","isDone","Boolean","dragover","dragleave","onDrop","transfer","_getTransfer","_preventAndStop","_removeOverClass","onDragOver","_haveFiles","types","dropEffect","_addOverClass","onDragLeave","currentTarget","dataTransfer","originalEvent","preventDefault","stopPropagation","contains","addOverClass","removeOverClass","overClass","addClass","getOverClass","removeClass","$parse","link","attributes","$eval"],"mappings":"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","file":"angular-file-upload.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-file-upload\"] = factory();\n\telse\n\t\troot[\"angular-file-upload\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5d0e3e7b142b6d10cdad","'use strict';\r\n\r\n\r\nimport CONFIG from './config.json';\r\n\r\n\r\nimport options from './values/options'\r\n\r\n\r\nimport serviceFileUploader from './services/FileUploader';\r\nimport serviceFileLikeObject from './services/FileLikeObject';\r\nimport serviceFileItem from './services/FileItem';\r\nimport serviceFileDirective from './services/FileDirective';\r\nimport serviceFileSelect from './services/FileSelect';\r\nimport servicePipeline from './services/Pipeline';\r\nimport serviceFileDrop from './services/FileDrop';\r\nimport serviceFileOver from './services/FileOver';\r\n\r\n\r\nimport directiveFileSelect from './directives/FileSelect';\r\nimport directiveFileDrop from './directives/FileDrop';\r\nimport directiveFileOver from './directives/FileOver';\r\n\r\n\r\nangular\r\n    .module(CONFIG.name, [])\r\n    .value('fileUploaderOptions', options)\r\n    .factory('FileUploader', serviceFileUploader)\r\n    .factory('FileLikeObject', serviceFileLikeObject)\r\n    .factory('FileItem', serviceFileItem)\r\n    .factory('FileDirective', serviceFileDirective)\r\n    .factory('FileSelect', serviceFileSelect)\r\n    .factory('FileDrop', serviceFileDrop)\r\n    .factory('FileOver', serviceFileOver)\r\n    .factory('Pipeline', servicePipeline)\r\n    .directive('nvFileSelect', directiveFileSelect)\r\n    .directive('nvFileDrop', directiveFileDrop)\r\n    .directive('nvFileOver', directiveFileOver)\r\n    .run([\r\n        'FileUploader',\r\n        'FileLikeObject',\r\n        'FileItem',\r\n        'FileDirective',\r\n        'FileSelect',\r\n        'FileDrop',\r\n        'FileOver',\r\n        'Pipeline',\r\n        function(FileUploader, FileLikeObject, FileItem, FileDirective, FileSelect, FileDrop, FileOver, Pipeline) {\r\n            // only for compatibility\r\n            FileUploader.FileLikeObject = FileLikeObject;\r\n            FileUploader.FileItem = FileItem;\r\n            FileUploader.FileDirective = FileDirective;\r\n            FileUploader.FileSelect = FileSelect;\r\n            FileUploader.FileDrop = FileDrop;\r\n            FileUploader.FileOver = FileOver;\r\n            FileUploader.Pipeline = Pipeline;\r\n        }\r\n    ]);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = {\"name\":\"angularFileUpload\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config.json\n// module id = 1\n// module chunks = 0 1","'use strict';\r\n\r\n\r\nexport default {\r\n    url: '/',\r\n    alias: 'file',\r\n    headers: {},\r\n    queue: [],\r\n    progress: 0,\r\n    autoUpload: false,\r\n    removeAfterUpload: false,\r\n    method: 'POST',\r\n    filters: [],\r\n    formData: [],\r\n    queueLimit: Number.MAX_VALUE,\r\n    withCredentials: false,\r\n    disableMultipart: false\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/values/options.js","'use strict';\n\n\nimport CONFIG from './../config.json';\n\n\nlet {\n    bind,\n    copy,\n    extend,\n    forEach,\n    isObject,\n    isNumber,\n    isDefined,\n    isArray,\n    isUndefined,\n    element\n    } = angular;\n\n\nexport default function __identity(fileUploaderOptions, $rootScope, $http, $window, $timeout, FileLikeObject, FileItem, Pipeline) {\n    \n    \n    let {\n        File,\n        FormData\n        } = $window;\n    \n    \n    class FileUploader {\n        /**********************\n         * PUBLIC\n         **********************/\n        /**\n         * Creates an instance of FileUploader\n         * @param {Object} [options]\n         * @constructor\n         */\n        constructor(options) {\n            var settings = copy(fileUploaderOptions);\n            \n            extend(this, settings, options, {\n                isUploading: false,\n                _nextIndex: 0,\n                _directives: {select: [], drop: [], over: []}\n            });\n\n            // add default filters\n            this.filters.unshift({name: 'queueLimit', fn: this._queueLimitFilter});\n            this.filters.unshift({name: 'folder', fn: this._folderFilter});\n        }\n        /**\n         * Adds items to the queue\n         * @param {File|HTMLInputElement|Object|FileList|Array<Object>} files\n         * @param {Object} [options]\n         * @param {Array<Function>|String} filters\n         */\n        addToQueue(files, options, filters) {\n            let incomingQueue = this.isArrayLikeObject(files) ? Array.prototype.slice.call(files): [files];\n            var arrayOfFilters = this._getFilters(filters);\n            var count = this.queue.length;\n            var addedFileItems = [];\n\n            let next = () => {\n                let something = incomingQueue.shift();\n                \n                if (isUndefined(something)) {\n                    return done();\n                }\n                \n                let fileLikeObject = this.isFile(something) ? something : new FileLikeObject(something);\n                let pipes = this._convertFiltersToPipes(arrayOfFilters);\n                let pipeline = new Pipeline(pipes);\n                let onThrown = (err) => {\n                    let {originalFilter} = err.pipe;\n                    let [fileLikeObject, options] = err.args;\n                    this._onWhenAddingFileFailed(fileLikeObject, originalFilter, options);\n                    next();\n                };\n                let onSuccessful = (fileLikeObject, options) => {\n                    let fileItem = new FileItem(this, fileLikeObject, options);\n                    addedFileItems.push(fileItem);\n                    this.queue.push(fileItem);\n                    this._onAfterAddingFile(fileItem);\n                    next();\n                };\n                pipeline.onThrown = onThrown;\n                pipeline.onSuccessful = onSuccessful;\n                pipeline.exec(fileLikeObject, options);\n            };\n                \n            let done = () => {\n                if(this.queue.length !== count) {\n                    this._onAfterAddingAll(addedFileItems);\n                    this.progress = this._getTotalProgress();\n                }\n\n                this._render();\n                if (this.autoUpload) this.uploadAll();\n            };\n            \n            next();\n        }\n        /**\n         * Remove items from the queue. Remove last: index = -1\n         * @param {FileItem|Number} value\n         */\n        removeFromQueue(value) {\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            if(item.isUploading) item.cancel();\n            this.queue.splice(index, 1);\n            item._destroy();\n            this.progress = this._getTotalProgress();\n        }\n        /**\n         * Clears the queue\n         */\n        clearQueue() {\n            while(this.queue.length) {\n                this.queue[0].remove();\n            }\n            this.progress = 0;\n        }\n        /**\n         * Uploads a item from the queue\n         * @param {FileItem|Number} value\n         */\n        uploadItem(value) {\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            var transport = this.isHTML5 ? '_xhrTransport' : '_iframeTransport';\n\n            item._prepareToUploading();\n            if(this.isUploading) return;\n\n            this._onBeforeUploadItem(item);\n            if (item.isCancel) return;\n\n            item.isUploading = true;\n            this.isUploading = true;\n            this[transport](item);\n            this._render();\n        }\n        /**\n         * Cancels uploading of item from the queue\n         * @param {FileItem|Number} value\n         */\n        cancelItem(value) {\n            var index = this.getIndexOfItem(value);\n            var item = this.queue[index];\n            var prop = this.isHTML5 ? '_xhr' : '_form';\n            if (!item) return;\n            item.isCancel = true;\n            if(item.isUploading) {\n                // It will call this._onCancelItem() & this._onCompleteItem() asynchronously\n                item[prop].abort();\n            } else {\n                let dummy = [undefined, 0, {}];\n                let onNextTick = () => {\n                    this._onCancelItem(item, ...dummy);\n                    this._onCompleteItem(item, ...dummy);\n                };\n                $timeout(onNextTick); // Trigger callbacks asynchronously (setImmediate emulation)\n            }\n        }\n        /**\n         * Uploads all not uploaded items of queue\n         */\n        uploadAll() {\n            var items = this.getNotUploadedItems().filter(item => !item.isUploading);\n            if(!items.length) return;\n\n            forEach(items, item => item._prepareToUploading());\n            items[0].upload();\n        }\n        /**\n         * Cancels all uploads\n         */\n        cancelAll() {\n            var items = this.getNotUploadedItems();\n            forEach(items, item => item.cancel());\n        }\n        /**\n         * Returns \"true\" if value an instance of File\n         * @param {*} value\n         * @returns {Boolean}\n         * @private\n         */\n        isFile(value) {\n            return this.constructor.isFile(value);\n        }\n        /**\n         * Returns \"true\" if value an instance of FileLikeObject\n         * @param {*} value\n         * @returns {Boolean}\n         * @private\n         */\n        isFileLikeObject(value) {\n            return this.constructor.isFileLikeObject(value);\n        }\n        /**\n         * Returns \"true\" if value is array like object\n         * @param {*} value\n         * @returns {Boolean}\n         */\n        isArrayLikeObject(value) {\n            return this.constructor.isArrayLikeObject(value);\n        }\n        /**\n         * Returns a index of item from the queue\n         * @param {Item|Number} value\n         * @returns {Number}\n         */\n        getIndexOfItem(value) {\n            return isNumber(value) ? value : this.queue.indexOf(value);\n        }\n        /**\n         * Returns not uploaded items\n         * @returns {Array}\n         */\n        getNotUploadedItems() {\n            return this.queue.filter(item => !item.isUploaded);\n        }\n        /**\n         * Returns items ready for upload\n         * @returns {Array}\n         */\n        getReadyItems() {\n            return this.queue\n                .filter(item => (item.isReady && !item.isUploading))\n                .sort((item1, item2) => item1.index - item2.index);\n        }\n        /**\n         * Destroys instance of FileUploader\n         */\n        destroy() {\n            forEach(this._directives, (key) => {\n                forEach(this._directives[key], (object) => {\n                    object.destroy();\n                });\n            });\n        }\n        /**\n         * Callback\n         * @param {Array} fileItems\n         */\n        onAfterAddingAll(fileItems) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} fileItem\n         */\n        onAfterAddingFile(fileItem) {\n        }\n        /**\n         * Callback\n         * @param {File|Object} item\n         * @param {Object} filter\n         * @param {Object} options\n         */\n        onWhenAddingFileFailed(item, filter, options) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} fileItem\n         */\n        onBeforeUploadItem(fileItem) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} fileItem\n         * @param {Number} progress\n         */\n        onProgressItem(fileItem, progress) {\n        }\n        /**\n         * Callback\n         * @param {Number} progress\n         */\n        onProgressAll(progress) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         */\n        onSuccessItem(item, response, status, headers) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         */\n        onErrorItem(item, response, status, headers) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         */\n        onCancelItem(item, response, status, headers) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         */\n        onCompleteItem(item, response, status, headers) {\n        }\n        /**\n         * Callback\n         * @param {FileItem} item\n         */\n        onTimeoutItem(item) {\n        }\n        /**\n         * Callback\n         */\n        onCompleteAll() {\n        }\n        /**********************\n         * PRIVATE\n         **********************/\n        /**\n         * Returns the total progress\n         * @param {Number} [value]\n         * @returns {Number}\n         * @private\n         */\n        _getTotalProgress(value) {\n            if(this.removeAfterUpload) return value || 0;\n\n            var notUploaded = this.getNotUploadedItems().length;\n            var uploaded = notUploaded ? this.queue.length - notUploaded : this.queue.length;\n            var ratio = 100 / this.queue.length;\n            var current = (value || 0) * ratio / 100;\n\n            return Math.round(uploaded * ratio + current);\n        }\n        /**\n         * Returns array of filters\n         * @param {Array<Function>|String} filters\n         * @returns {Array<Function>}\n         * @private\n         */\n        _getFilters(filters) {\n            if(!filters) return this.filters;\n            if(isArray(filters)) return filters;\n            var names = filters.match(/[^\\s,]+/g);\n            return this.filters\n                .filter(filter => names.indexOf(filter.name) !== -1);\n        }\n       /**\n       * @param {Array<Function>} filters\n       * @returns {Array<Function>}\n       * @private\n       */\n       _convertFiltersToPipes(filters) {\n            return filters\n                .map(filter => {\n                    let fn = bind(this, filter.fn);\n                    fn.isAsync = filter.fn.length === 3;\n                    fn.originalFilter = filter;\n                    return fn;\n                });\n        }\n        /**\n         * Updates html\n         * @private\n         */\n        _render() {\n            if(!$rootScope.$$phase) $rootScope.$apply();\n        }\n        /**\n         * Returns \"true\" if item is a file (not folder)\n         * @param {File|FileLikeObject} item\n         * @returns {Boolean}\n         * @private\n         */\n        _folderFilter(item) {\n            return !!(item.size || item.type);\n        }\n        /**\n         * Returns \"true\" if the limit has not been reached\n         * @returns {Boolean}\n         * @private\n         */\n        _queueLimitFilter() {\n            return this.queue.length < this.queueLimit;\n        }\n        /**\n         * Checks whether upload successful\n         * @param {Number} status\n         * @returns {Boolean}\n         * @private\n         */\n        _isSuccessCode(status) {\n            return (status >= 200 && status < 300) || status === 304;\n        }\n        /**\n         * Transforms the server response\n         * @param {*} response\n         * @param {Object} headers\n         * @returns {*}\n         * @private\n         */\n        _transformResponse(response, headers) {\n            var headersGetter = this._headersGetter(headers);\n            forEach($http.defaults.transformResponse, (transformFn) => {\n                response = transformFn(response, headersGetter);\n            });\n            return response;\n        }\n        /**\n         * Parsed response headers\n         * @param headers\n         * @returns {Object}\n         * @see https://github.com/angular/angular.js/blob/master/src/ng/http.js\n         * @private\n         */\n        _parseHeaders(headers) {\n            var parsed = {}, key, val, i;\n\n            if(!headers) return parsed;\n\n            forEach(headers.split('\\n'), (line) => {\n                i = line.indexOf(':');\n                key = line.slice(0, i).trim().toLowerCase();\n                val = line.slice(i + 1).trim();\n\n                if(key) {\n                    parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n                }\n            });\n\n            return parsed;\n        }\n        /**\n         * Returns function that returns headers\n         * @param {Object} parsedHeaders\n         * @returns {Function}\n         * @private\n         */\n        _headersGetter(parsedHeaders) {\n            return (name) => {\n                if(name) {\n                    return parsedHeaders[name.toLowerCase()] || null;\n                }\n                return parsedHeaders;\n            };\n        }\n        /**\n         * The XMLHttpRequest transport\n         * @param {FileItem} item\n         * @private\n         */\n        _xhrTransport(item) {\n            var xhr = item._xhr = new XMLHttpRequest();\n            var sendable;\n\n            if (!item.disableMultipart) {\n                sendable = new FormData();\n                forEach(item.formData, (obj) => {\n                    forEach(obj, (value, key) => {\n                        sendable.append(key, value);\n                    });\n                });\n\n                sendable.append(item.alias, item._file, item.file.name);\n            }\n            else {\n                sendable = item._file;\n            }\n\n            if(typeof(item._file.size) != 'number') {\n                throw new TypeError('The file specified is no longer valid');\n            }\n\n            xhr.upload.onprogress = (event) => {\n                var progress = Math.round(event.lengthComputable ? event.loaded * 100 / event.total : 0);\n                this._onProgressItem(item, progress);\n            };\n\n            xhr.onload = () => {\n                var headers = this._parseHeaders(xhr.getAllResponseHeaders());\n                var response = this._transformResponse(xhr.response, headers);\n                var gist = this._isSuccessCode(xhr.status) ? 'Success' : 'Error';\n                var method = '_on' + gist + 'Item';\n                this[method](item, response, xhr.status, headers);\n                this._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.onerror = () => {\n                var headers = this._parseHeaders(xhr.getAllResponseHeaders());\n                var response = this._transformResponse(xhr.response, headers);\n                this._onErrorItem(item, response, xhr.status, headers);\n                this._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            xhr.onabort = () => {\n                var headers = this._parseHeaders(xhr.getAllResponseHeaders());\n                var response = this._transformResponse(xhr.response, headers);\n                this._onCancelItem(item, response, xhr.status, headers);\n                this._onCompleteItem(item, response, xhr.status, headers);\n            };       \n\n            xhr.ontimeout = (e) => {\n                var headers = this._parseHeaders(xhr.getAllResponseHeaders());\n                var response = \"Request Timeout.\";\n                this._onTimeoutItem(item);\n                this._onCompleteItem(item, response, 408, headers);\n            };\n\n            xhr.open(item.method, item.url, true);\n\n            xhr.timeout = item.timeout || 0;\n            xhr.withCredentials = item.withCredentials;\n\n            forEach(item.headers, (value, name) => {\n                xhr.setRequestHeader(name, value);\n            });\n\n            xhr.send(sendable);\n        }\n        /**\n         * The IFrame transport\n         * @param {FileItem} item\n         * @private\n         */\n        _iframeTransport(item) {\n            var form = element('<form style=\"display: none;\" />');\n            var iframe = element('<iframe name=\"iframeTransport' + Date.now() + '\">');\n            var input = item._input;\n\n            var timeout = 0;\n            var timer = null;\n            var isTimedOut = false;\n\n            if(item._form) item._form.replaceWith(input); // remove old form\n            item._form = form; // save link to new form\n\n            input.prop('name', item.alias);\n\n            forEach(item.formData, (obj) => {\n                forEach(obj, (value, key) => {\n                    var element_ = element('<input type=\"hidden\" name=\"' + key + '\" />');\n                    element_.val(value);\n                    form.append(element_);\n                });\n            });\n\n            form.prop({\n                action: item.url,\n                method: 'POST',\n                target: iframe.prop('name'),\n                enctype: 'multipart/form-data',\n                encoding: 'multipart/form-data' // old IE\n            });\n\n            iframe.bind('load', () => {\n                var html = '';\n                var status = 200;\n\n                try {\n                    // Fix for legacy IE browsers that loads internal error page\n                    // when failed WS response received. In consequence iframe\n                    // content access denied error is thrown becouse trying to\n                    // access cross domain page. When such thing occurs notifying\n                    // with empty response object. See more info at:\n                    // http://stackoverflow.com/questions/151362/access-is-denied-error-on-accessing-iframe-document-object\n                    // Note that if non standard 4xx or 5xx error code returned\n                    // from WS then response content can be accessed without error\n                    // but 'XHR' status becomes 200. In order to avoid confusion\n                    // returning response via same 'success' event handler.\n\n                    // fixed angular.contents() for iframes\n                    html = iframe[0].contentDocument.body.innerHTML;\n                } catch(e) {\n                    // in case we run into the access-is-denied error or we have another error on the server side\n                    // (intentional 500,40... errors), we at least say 'something went wrong' -> 500\n                    status = 500;\n                }\n\n                if (timer) {\n                    clearTimeout(timer);\n                }\n                timer = null;\n\n                if (isTimedOut) {\n                    return false; //throw 'Request Timeout'\n                }\n\n                var xhr = {response: html, status: status, dummy: true};\n                var headers = {};\n                var response = this._transformResponse(xhr.response, headers);\n\n                this._onSuccessItem(item, response, xhr.status, headers);\n                this._onCompleteItem(item, response, xhr.status, headers);\n            });\n\n            form.abort = () => {\n                var xhr = {status: 0, dummy: true};\n                var headers = {};\n                var response;\n\n                iframe.unbind('load').prop('src', 'javascript:false;');\n                form.replaceWith(input);\n\n                this._onCancelItem(item, response, xhr.status, headers);\n                this._onCompleteItem(item, response, xhr.status, headers);\n            };\n\n            input.after(form);\n            form.append(input).append(iframe);\n\n            timeout = item.timeout || 0;\n            timer = null;\n\n            if (timeout) {\n                timer = setTimeout(() => {\n                    isTimedOut = true;\n\n                    item.isCancel = true;\n                    if (item.isUploading) {\n                        iframe.unbind('load').prop('src', 'javascript:false;');\n                        form.replaceWith(input);\n                    }\n\n                    var headers = {};\n                    var response = \"Request Timeout.\";\n                    this._onTimeoutItem(item);\n                    this._onCompleteItem(item, response, 408, headers);\n                }, timeout);\n            }\n\n            form[0].submit();\n        }\n        /**\n         * Inner callback\n         * @param {File|Object} item\n         * @param {Object} filter\n         * @param {Object} options\n         * @private\n         */\n        _onWhenAddingFileFailed(item, filter, options) {\n            this.onWhenAddingFileFailed(item, filter, options);\n        }\n        /**\n         * Inner callback\n         * @param {FileItem} item\n         */\n        _onAfterAddingFile(item) {\n            this.onAfterAddingFile(item);\n        }\n        /**\n         * Inner callback\n         * @param {Array<FileItem>} items\n         */\n        _onAfterAddingAll(items) {\n            this.onAfterAddingAll(items);\n        }\n        /**\n         *  Inner callback\n         * @param {FileItem} item\n         * @private\n         */\n        _onBeforeUploadItem(item) {\n            item._onBeforeUpload();\n            this.onBeforeUploadItem(item);\n        }\n        /**\n         * Inner callback\n         * @param {FileItem} item\n         * @param {Number} progress\n         * @private\n         */\n        _onProgressItem(item, progress) {\n            var total = this._getTotalProgress(progress);\n            this.progress = total;\n            item._onProgress(progress);\n            this.onProgressItem(item, progress);\n            this.onProgressAll(total);\n            this._render();\n        }\n        /**\n         * Inner callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         * @private\n         */\n        _onSuccessItem(item, response, status, headers) {\n            item._onSuccess(response, status, headers);\n            this.onSuccessItem(item, response, status, headers);\n        }\n        /**\n         * Inner callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         * @private\n         */\n        _onErrorItem(item, response, status, headers) {\n            item._onError(response, status, headers);\n            this.onErrorItem(item, response, status, headers);\n        }\n        /**\n         * Inner callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         * @private\n         */\n        _onCancelItem(item, response, status, headers) {\n            item._onCancel(response, status, headers);\n            this.onCancelItem(item, response, status, headers);\n        }\n        /**\n         * Inner callback\n         * @param {FileItem} item\n         * @param {*} response\n         * @param {Number} status\n         * @param {Object} headers\n         * @private\n         */\n        _onCompleteItem(item, response, status, headers) {\n            item._onComplete(response, status, headers);\n            this.onCompleteItem(item, response, status, headers);\n\n            var nextItem = this.getReadyItems()[0];\n            this.isUploading = false;\n\n            if(isDefined(nextItem)) {\n                nextItem.upload();\n                return;\n            }\n\n            this.onCompleteAll();\n            this.progress = this._getTotalProgress();\n            this._render();\n        }\n        /**\n         * Inner callback\n         * @param {FileItem} item\n         * @private\n         */\n        _onTimeoutItem(item) {\n            item._onTimeout();\n            this.onTimeoutItem(item);\n        }\n        /**********************\n         * STATIC\n         **********************/\n        /**\n         * Returns \"true\" if value an instance of File\n         * @param {*} value\n         * @returns {Boolean}\n         * @private\n         */\n        static isFile(value) {\n            return (File && value instanceof File);\n        }\n        /**\n         * Returns \"true\" if value an instance of FileLikeObject\n         * @param {*} value\n         * @returns {Boolean}\n         * @private\n         */\n        static isFileLikeObject(value) {\n            return value instanceof FileLikeObject;\n        }\n        /**\n         * Returns \"true\" if value is array like object\n         * @param {*} value\n         * @returns {Boolean}\n         */\n        static isArrayLikeObject(value) {\n            return (isObject(value) && 'length' in value);\n        }\n        /**\n         * Inherits a target (Class_1) by a source (Class_2)\n         * @param {Function} target\n         * @param {Function} source\n         */\n        static inherit(target, source) {\n            target.prototype = Object.create(source.prototype);\n            target.prototype.constructor = target;\n            target.super_ = source;\n        }\n    }\n\n\n    /**********************\n     * PUBLIC\n     **********************/\n    /**\n     * Checks a support the html5 uploader\n     * @returns {Boolean}\n     * @readonly\n     */\n    FileUploader.prototype.isHTML5 = !!(File && FormData);\n    /**********************\n     * STATIC\n     **********************/\n    /**\n     * @borrows FileUploader.prototype.isHTML5\n     */\n    FileUploader.isHTML5 = FileUploader.prototype.isHTML5;\n\n    \n    return FileUploader;\n}\n\n\n__identity.$inject = [\n    'fileUploaderOptions', \n    '$rootScope', \n    '$http', \n    '$window',\n    '$timeout',\n    'FileLikeObject',\n    'FileItem',\n    'Pipeline'\n];\n\n\n// WEBPACK FOOTER //\n// ./src/services/FileUploader.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nlet {\r\n    copy,\r\n    isElement,\r\n    isString\r\n    } = angular;\r\n\r\n\r\nexport default function __identity() {\r\n    \r\n    \r\n    return class FileLikeObject {\r\n        /**\r\n         * Creates an instance of FileLikeObject\r\n         * @param {File|HTMLInputElement|Object} fileOrInput\r\n         * @constructor\r\n         */\r\n        constructor(fileOrInput) {\r\n            var isInput = isElement(fileOrInput);\r\n            var fakePathOrObject = isInput ? fileOrInput.value : fileOrInput;\r\n            var postfix = isString(fakePathOrObject) ? 'FakePath' : 'Object';\r\n            var method = '_createFrom' + postfix;\r\n            this[method](fakePathOrObject, fileOrInput);\r\n        }\r\n        /**\r\n         * Creates file like object from fake path string\r\n         * @param {String} path\r\n         * @private\r\n         */\r\n        _createFromFakePath(path, input) {\r\n            this.lastModifiedDate = null;\r\n            this.size = null;\r\n            this.type = 'like/' + path.slice(path.lastIndexOf('.') + 1).toLowerCase();\r\n            this.name = path.slice(path.lastIndexOf('/') + path.lastIndexOf('\\\\') + 2);\r\n            this.input = input;\r\n        }\r\n        /**\r\n         * Creates file like object from object\r\n         * @param {File|FileLikeObject} object\r\n         * @private\r\n         */\r\n        _createFromObject(object) {\r\n            this.lastModifiedDate = copy(object.lastModifiedDate);\r\n            this.size = object.size;\r\n            this.type = object.type;\r\n            this.name = object.name;\r\n            this.input = object.input;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/FileLikeObject.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nlet {\r\n    copy,\r\n    extend,\r\n    element,\r\n    isElement\r\n    } = angular;\r\n\r\n\r\nexport default function __identity($compile, FileLikeObject) {\r\n    \r\n    \r\n    return class FileItem {\r\n        /**\r\n         * Creates an instance of FileItem\r\n         * @param {FileUploader} uploader\r\n         * @param {File|HTMLInputElement|Object} some\r\n         * @param {Object} options\r\n         * @constructor\r\n         */\r\n        constructor(uploader, some, options) {\r\n            var isInput = !!some.input;\r\n            var input = isInput ? element(some.input) : null;\r\n            var file = !isInput ? some : null;\r\n\r\n            extend(this, {\r\n                url: uploader.url,\r\n                alias: uploader.alias,\r\n                headers: copy(uploader.headers),\r\n                formData: copy(uploader.formData),\r\n                removeAfterUpload: uploader.removeAfterUpload,\r\n                withCredentials: uploader.withCredentials,\r\n                disableMultipart: uploader.disableMultipart,\r\n                method: uploader.method,\r\n                timeout: uploader.timeout\r\n            }, options, {\r\n                uploader: uploader,\r\n                file: new FileLikeObject(some),\r\n                isReady: false,\r\n                isUploading: false,\r\n                isUploaded: false,\r\n                isSuccess: false,\r\n                isCancel: false,\r\n                isError: false,\r\n                progress: 0,\r\n                index: null,\r\n                _file: file,\r\n                _input: input\r\n            });\r\n\r\n            if (input) this._replaceNode(input);\r\n        }\r\n        /**********************\r\n         * PUBLIC\r\n         **********************/\r\n        /**\r\n         * Uploads a FileItem\r\n         */\r\n        upload() {\r\n            try {\r\n                this.uploader.uploadItem(this);\r\n            } catch(e) {\r\n                var message = e.name + ':' + e.message;\r\n                this.uploader._onCompleteItem(this, message, e.code, []);\r\n                this.uploader._onErrorItem(this, message, e.code, []);\r\n            }\r\n        }\r\n        /**\r\n         * Cancels uploading of FileItem\r\n         */\r\n        cancel() {\r\n            this.uploader.cancelItem(this);\r\n        }\r\n        /**\r\n         * Removes a FileItem\r\n         */\r\n        remove() {\r\n            this.uploader.removeFromQueue(this);\r\n        }\r\n        /**\r\n         * Callback\r\n         * @private\r\n         */\r\n        onBeforeUpload() {\r\n        }\r\n        /**\r\n         * Callback\r\n         * @param {Number} progress\r\n         * @private\r\n         */\r\n        onProgress(progress) {\r\n        }\r\n        /**\r\n         * Callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         */\r\n        onSuccess(response, status, headers) {\r\n        }\r\n        /**\r\n         * Callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         */\r\n        onError(response, status, headers) {\r\n        }\r\n        /**\r\n         * Callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         */\r\n        onCancel(response, status, headers) {\r\n        }\r\n        /**\r\n         * Callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         */\r\n        onComplete(response, status, headers) {\r\n        }\r\n        /**\r\n         * Callback         \r\n         */\r\n        onTimeout() {\r\n        }\r\n        /**********************\r\n         * PRIVATE\r\n         **********************/\r\n        /**\r\n         * Inner callback\r\n         */\r\n        _onBeforeUpload() {\r\n            this.isReady = true;\r\n            this.isUploading = false;\r\n            this.isUploaded = false;\r\n            this.isSuccess = false;\r\n            this.isCancel = false;\r\n            this.isError = false;\r\n            this.progress = 0;\r\n            this.onBeforeUpload();\r\n        }\r\n        /**\r\n         * Inner callback\r\n         * @param {Number} progress\r\n         * @private\r\n         */\r\n        _onProgress(progress) {\r\n            this.progress = progress;\r\n            this.onProgress(progress);\r\n        }\r\n        /**\r\n         * Inner callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         * @private\r\n         */\r\n        _onSuccess(response, status, headers) {\r\n            this.isReady = false;\r\n            this.isUploading = false;\r\n            this.isUploaded = true;\r\n            this.isSuccess = true;\r\n            this.isCancel = false;\r\n            this.isError = false;\r\n            this.progress = 100;\r\n            this.index = null;\r\n            this.onSuccess(response, status, headers);\r\n        }\r\n        /**\r\n         * Inner callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         * @private\r\n         */\r\n        _onError(response, status, headers) {\r\n            this.isReady = false;\r\n            this.isUploading = false;\r\n            this.isUploaded = true;\r\n            this.isSuccess = false;\r\n            this.isCancel = false;\r\n            this.isError = true;\r\n            this.progress = 0;\r\n            this.index = null;\r\n            this.onError(response, status, headers);\r\n        }\r\n        /**\r\n         * Inner callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         * @private\r\n         */\r\n        _onCancel(response, status, headers) {\r\n            this.isReady = false;\r\n            this.isUploading = false;\r\n            this.isUploaded = false;\r\n            this.isSuccess = false;\r\n            this.isCancel = true;\r\n            this.isError = false;\r\n            this.progress = 0;\r\n            this.index = null;\r\n            this.onCancel(response, status, headers);\r\n        }\r\n        /**\r\n         * Inner callback\r\n         * @param {*} response\r\n         * @param {Number} status\r\n         * @param {Object} headers\r\n         * @private\r\n         */\r\n        _onComplete(response, status, headers) {\r\n            this.onComplete(response, status, headers);\r\n            if(this.removeAfterUpload) this.remove();\r\n        }\r\n        /**\r\n         * Inner callback         \r\n         * @private\r\n         */\r\n        _onTimeout() {\r\n            this.isReady = false;\r\n            this.isUploading = false;\r\n            this.isUploaded = false;\r\n            this.isSuccess = false;\r\n            this.isCancel = false;\r\n            this.isError = true;\r\n            this.progress = 0;\r\n            this.index = null;\r\n            this.onTimeout();\r\n        }\r\n        /**\r\n         * Destroys a FileItem\r\n         */\r\n        _destroy() {\r\n            if(this._input) this._input.remove();\r\n            if(this._form) this._form.remove();\r\n            delete this._form;\r\n            delete this._input;\r\n        }\r\n        /**\r\n         * Prepares to uploading\r\n         * @private\r\n         */\r\n        _prepareToUploading() {\r\n            this.index = this.index || ++this.uploader._nextIndex;\r\n            this.isReady = true;\r\n        }\r\n        /**\r\n         * Replaces input element on his clone\r\n         * @param {JQLite|jQuery} input\r\n         * @private\r\n         */\r\n        _replaceNode(input) {\r\n            var clone = $compile(input.clone())(input.scope());\r\n            clone.prop('value', null); // FF fix\r\n            input.css('display', 'none');\r\n            input.after(clone); // remove jquery dependency\r\n        }\r\n    }\r\n}\r\n\r\n\r\n__identity.$inject = [\r\n    '$compile',\r\n    'FileLikeObject'\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/FileItem.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nlet {\r\n    extend\r\n    } = angular;\r\n\r\n\r\nexport default function __identity() {\r\n\r\n\r\n    class FileDirective {\r\n        /**\r\n         * Creates instance of {FileDirective} object\r\n         * @param {Object} options\r\n         * @param {Object} options.uploader\r\n         * @param {HTMLElement} options.element\r\n         * @param {Object} options.events\r\n         * @param {String} options.prop\r\n         * @constructor\r\n         */\r\n        constructor(options) {\r\n            extend(this, options);\r\n            this.uploader._directives[this.prop].push(this);\r\n            this._saveLinks();\r\n            this.bind();\r\n        }\r\n        /**\r\n         * Binds events handles\r\n         */\r\n        bind() {\r\n            for(var key in this.events) {\r\n                var prop = this.events[key];\r\n                this.element.bind(key, this[prop]);\r\n            }\r\n        }\r\n        /**\r\n         * Unbinds events handles\r\n         */\r\n        unbind() {\r\n            for(var key in this.events) {\r\n                this.element.unbind(key, this.events[key]);\r\n            }\r\n        }\r\n        /**\r\n         * Destroys directive\r\n         */\r\n        destroy() {\r\n            var index = this.uploader._directives[this.prop].indexOf(this);\r\n            this.uploader._directives[this.prop].splice(index, 1);\r\n            this.unbind();\r\n            // this.element = null;\r\n        }\r\n        /**\r\n         * Saves links to functions\r\n         * @private\r\n         */\r\n        _saveLinks() {\r\n            for(var key in this.events) {\r\n                var prop = this.events[key];\r\n                this[prop] = this[prop].bind(this);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Map of events\r\n     * @type {Object}\r\n     */\r\n    FileDirective.prototype.events = {};\r\n\r\n\r\n    return FileDirective;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/FileDirective.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nlet {\r\n    extend\r\n    } = angular;\r\n\r\n\r\nexport default function __identity($compile, FileDirective) {\r\n    \r\n    \r\n    return class FileSelect extends FileDirective {\r\n        /**\r\n         * Creates instance of {FileSelect} object\r\n         * @param {Object} options\r\n         * @constructor\r\n         */\r\n        constructor(options) {\r\n            let extendedOptions = extend(options, {\r\n                // Map of events\r\n                events: {\r\n                    $destroy: 'destroy',\r\n                    change: 'onChange'\r\n                },\r\n                // Name of property inside uploader._directive object\r\n                prop: 'select'\r\n            });\r\n            \r\n            super(extendedOptions);\r\n            \r\n            if(!this.uploader.isHTML5) {\r\n                this.element.removeAttr('multiple');\r\n            }\r\n            this.element.prop('value', null); // FF fix\r\n        }\r\n        /**\r\n         * Returns options\r\n         * @return {Object|undefined}\r\n         */\r\n        getOptions() {\r\n        }\r\n        /**\r\n         * Returns filters\r\n         * @return {Array<Function>|String|undefined}\r\n         */\r\n        getFilters() {\r\n        }\r\n        /**\r\n         * If returns \"true\" then HTMLInputElement will be cleared\r\n         * @returns {Boolean}\r\n         */\r\n        isEmptyAfterSelection() {\r\n            return !!this.element.attr('multiple');\r\n        }\r\n        /**\r\n         * Event handler\r\n         */\r\n        onChange() {\r\n            var files = this.uploader.isHTML5 ? this.element[0].files : this.element[0];\r\n            var options = this.getOptions();\r\n            var filters = this.getFilters();\r\n\r\n            if(!this.uploader.isHTML5) this.destroy();\r\n            this.uploader.addToQueue(files, options, filters);\r\n            if(this.isEmptyAfterSelection()) {\r\n                this.element.prop('value', null);\r\n                this.element.replaceWith($compile(this.element.clone())(this.scope)); // IE fix\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n__identity.$inject = [\r\n    '$compile',\r\n    'FileDirective'\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/FileSelect.js","'use strict';\r\n\r\n\r\nconst {\r\n  bind,\r\n  isUndefined\r\n} = angular;\r\n\r\n\r\nexport default function __identity($q) {\r\n\r\n\r\n  return class Pipeline {\r\n    /**\r\n     * @param {Array<Function>} pipes\r\n     */\r\n    constructor(pipes = []) {\r\n      this.pipes = pipes;\r\n    }\r\n    next(args) {\r\n      let pipe = this.pipes.shift();\r\n      if (isUndefined(pipe)) {\r\n        this.onSuccessful(...args);\r\n        return;\r\n      }\r\n      let err = new Error('The filter has not passed');\r\n      err.pipe = pipe;\r\n      err.args = args;\r\n      if (pipe.isAsync) {\r\n        let deferred = $q.defer();\r\n        let onFulfilled = bind(this, this.next, args);\r\n        let onRejected = bind(this, this.onThrown, err);\r\n        deferred.promise.then(onFulfilled, onRejected);\r\n        pipe(...args, deferred);\r\n      } else {\r\n        let isDone = Boolean(pipe(...args));\r\n        if (isDone) {\r\n          this.next(args);\r\n        } else {\r\n          this.onThrown(err);\r\n        }\r\n      }\r\n    }\r\n    exec(...args) {\r\n      this.next(args);\r\n    }\r\n    onThrown(err) {\r\n\r\n    }\r\n    onSuccessful(...args) {\r\n\r\n    }\r\n  }\r\n  \r\n}\r\n\r\n__identity.$inject = [\r\n  '$q'\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/services/Pipeline.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nlet {\r\n    extend,\r\n    forEach\r\n    } = angular;\r\n\r\n\r\nexport default function __identity(FileDirective) {\r\n    \r\n    \r\n    return class FileDrop extends FileDirective {\r\n        /**\r\n         * Creates instance of {FileDrop} object\r\n         * @param {Object} options\r\n         * @constructor\r\n         */\r\n        constructor(options) {\r\n            let extendedOptions = extend(options, {\r\n                // Map of events\r\n                events: {\r\n                    $destroy: 'destroy',\r\n                    drop: 'onDrop',\r\n                    dragover: 'onDragOver',\r\n                    dragleave: 'onDragLeave'\r\n                },\r\n                // Name of property inside uploader._directive object\r\n                prop: 'drop'\r\n            });\r\n            \r\n            super(extendedOptions);\r\n        }\r\n        /**\r\n         * Returns options\r\n         * @return {Object|undefined}\r\n         */\r\n        getOptions() {\r\n        }\r\n        /**\r\n         * Returns filters\r\n         * @return {Array<Function>|String|undefined}\r\n         */\r\n        getFilters() {\r\n        }\r\n        /**\r\n         * Event handler\r\n         */\r\n        onDrop(event) {\r\n            var transfer = this._getTransfer(event);\r\n            if(!transfer) return;\r\n            var options = this.getOptions();\r\n            var filters = this.getFilters();\r\n            this._preventAndStop(event);\r\n            forEach(this.uploader._directives.over, this._removeOverClass, this);\r\n            this.uploader.addToQueue(transfer.files, options, filters);\r\n        }\r\n        /**\r\n         * Event handler\r\n         */\r\n        onDragOver(event) {\r\n            var transfer = this._getTransfer(event);\r\n            if(!this._haveFiles(transfer.types)) return;\r\n            transfer.dropEffect = 'copy';\r\n            this._preventAndStop(event);\r\n            forEach(this.uploader._directives.over, this._addOverClass, this);\r\n        }\r\n        /**\r\n         * Event handler\r\n         */\r\n        onDragLeave(event) {\r\n            if(event.currentTarget === this.element[0]) return;\r\n            this._preventAndStop(event);\r\n            forEach(this.uploader._directives.over, this._removeOverClass, this);\r\n        }\r\n        /**\r\n         * Helper\r\n         */\r\n        _getTransfer(event) {\r\n            return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\r\n        }\r\n        /**\r\n         * Helper\r\n         */\r\n        _preventAndStop(event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        /**\r\n         * Returns \"true\" if types contains files\r\n         * @param {Object} types\r\n         */\r\n        _haveFiles(types) {\r\n            if(!types) return false;\r\n            if(types.indexOf) {\r\n                return types.indexOf('Files') !== -1;\r\n            } else if(types.contains) {\r\n                return types.contains('Files');\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        /**\r\n         * Callback\r\n         */\r\n        _addOverClass(item) {\r\n            item.addOverClass();\r\n        }\r\n        /**\r\n         * Callback\r\n         */\r\n        _removeOverClass(item) {\r\n            item.removeOverClass();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n__identity.$inject = [\r\n    'FileDirective'\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/services/FileDrop.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nlet {\r\n    extend\r\n    } = angular;\r\n\r\n\r\nexport default function __identity(FileDirective) {\r\n    \r\n    \r\n    return class FileOver extends FileDirective {\r\n        /**\r\n         * Creates instance of {FileDrop} object\r\n         * @param {Object} options\r\n         * @constructor\r\n         */\r\n        constructor(options) {\r\n            let extendedOptions = extend(options, {\r\n                // Map of events\r\n                events: {\r\n                    $destroy: 'destroy'\r\n                },\r\n                // Name of property inside uploader._directive object\r\n                prop: 'over',\r\n                // Over class\r\n                overClass: 'nv-file-over'\r\n            });\r\n            \r\n            super(extendedOptions);\r\n        }\r\n        /**\r\n         * Adds over class\r\n         */\r\n        addOverClass() {\r\n            this.element.addClass(this.getOverClass());\r\n        }\r\n        /**\r\n         * Removes over class\r\n         */\r\n        removeOverClass() {\r\n            this.element.removeClass(this.getOverClass());\r\n        }\r\n        /**\r\n         * Returns over class\r\n         * @returns {String}\r\n         */\r\n        getOverClass() {\r\n            return this.overClass;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n__identity.$inject = [\r\n    'FileDirective'\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/services/FileOver.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nexport default function __identity($parse, FileUploader, FileSelect) {\r\n\r\n\r\n    return {\r\n        link: (scope, element, attributes) => {\r\n            var uploader = scope.$eval(attributes.uploader);\r\n\r\n            if (!(uploader instanceof FileUploader)) {\r\n                throw new TypeError('\"Uploader\" must be an instance of FileUploader');\r\n            }\r\n\r\n            var object = new FileSelect({\r\n                uploader: uploader,\r\n                element: element,\r\n                scope: scope\r\n            });\r\n\r\n            object.getOptions = $parse(attributes.options).bind(object, scope);\r\n            object.getFilters = () => attributes.filters;\r\n        }\r\n    };\r\n\r\n\r\n}\r\n\r\n\r\n__identity.$inject = [\r\n    '$parse',\r\n    'FileUploader',\r\n    'FileSelect'\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/directives/FileSelect.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nexport default function __identity($parse, FileUploader, FileDrop) {\r\n\r\n\r\n    return {\r\n        link: (scope, element, attributes) => {\r\n            var uploader = scope.$eval(attributes.uploader);\r\n\r\n            if (!(uploader instanceof FileUploader)) {\r\n                throw new TypeError('\"Uploader\" must be an instance of FileUploader');\r\n            }\r\n\r\n            if (!uploader.isHTML5) return;\r\n\r\n            var object = new FileDrop({\r\n                uploader: uploader,\r\n                element: element\r\n            });\r\n\r\n            object.getOptions = $parse(attributes.options).bind(object, scope);\r\n            object.getFilters = () => attributes.filters;\r\n        }\r\n    };\r\n\r\n\r\n}\r\n\r\n\r\n__identity.$inject = [\r\n    '$parse',\r\n    'FileUploader',\r\n    'FileDrop'\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/directives/FileDrop.js","'use strict';\r\n\r\n\r\nimport CONFIG from './../config.json';\r\n\r\n\r\nexport default function __identity(FileUploader, FileOver) {\r\n\r\n\r\n    return {\r\n        link: (scope, element, attributes) => {\r\n            var uploader = scope.$eval(attributes.uploader);\r\n\r\n            if (!(uploader instanceof FileUploader)) {\r\n                throw new TypeError('\"Uploader\" must be an instance of FileUploader');\r\n            }\r\n\r\n            var object = new FileOver({\r\n                uploader: uploader,\r\n                element: element\r\n            });\r\n\r\n            object.getOverClass = () => attributes.overClass || object.overClass;\r\n        }\r\n    };\r\n\r\n\r\n}\r\n\r\n\r\n__identity.$inject = [\r\n    'FileUploader',\r\n    'FileOver'\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/directives/FileOver.js"],"sourceRoot":""}